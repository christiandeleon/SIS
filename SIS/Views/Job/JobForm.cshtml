@using SIS.Models;
@model SIS.ViewModels.JobViewModel
@{
    ViewBag.Title = "JobForm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3 class="heading">Maintenance - Job</h3>

@using (Html.BeginForm("SaveJob", "Job", FormMethod.Post, new { @id = "formId" }))
{    <div class="formSep">
         <div class="form-group">
             @Html.LabelFor(m => m.JobPost.JobCode)
             @Html.TextBoxFor(m => m.JobPost.JobCode, new { @class = "form-control", @name = "txtJobCode", @maxlength = 3 })
             @Html.ValidationMessageFor(m => m.JobPost.JobCode)
         </div>

         <div class="form-group">
             @Html.LabelFor(m => m.JobPost.JobName)
             @Html.TextBoxFor(m => m.JobPost.JobName, new { @class = "form-control", @name = "txtJobName", @maxlength = 50 })
             @Html.ValidationMessageFor(m => m.JobPost.JobName)
         </div>
         @Html.HiddenFor(m => m.JobPost.id)
     </div>

    <div class="form-actions">
        <button type="submit" id="btnSave" class="btn btn-sm btn-default">
            <i class="splashy-document_letter_edit"></i> Save
        </button>
        <button type="button" id="btnCancel" class="btn btn-sm btn-default">
            <i class="splashy-document_letter_remove"></i> Cancel
        </button>
    </div>
}

@section scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script language="javascript">
        $(document).
            ready(function() {
                $("#btnCancel").on("click", function () {
                    $(location).attr('href', '/Job/');
                });

                $("#formId").validate({
                    submitHandler: function (form) {
                        form.submit();
                    }
                });                                          

            });
    </script>
}
